/* Copyright 2012 Mozilla Foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
domain_whitelist=["https://www.dropboxstatic.com", "https://block-dbdev.dev.corp.dropbox.com"];
origin=(window.location.origin)?window.location.origin:window.location.protocol+"//"+window.location.hostname;
if(domain_whitelist.indexOf(origin)==-1)throw new Error("pdf.js running on illegal domain");
"undefined"===typeof PDFJS&&(("undefined"!==typeof window?window:this).PDFJS={});PDFJS.version="1.0.1";PDFJS.build="fatal: Not a git repository (or any of the parent directories): .git";
(function(){function M(a){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.infos&&console.log("Info: "+a)}function D(a){PDFJS.verbosity>=PDFJS.VERBOSITY_LEVELS.warnings&&console.log("Warning: "+a)}function w(a){if(arguments.length>1){var b=["Error:"];b.push.apply(b,arguments);console.log.apply(console,b);a=[].join.call(arguments," ")}else console.log("Error: "+a);console.log(Ha());ia.notify(Ia.unknown);throw Error(a);}function Ha(){try{throw Error();}catch(a){return a.stack?a.stack.split("\n").slice(2).join("\n"):
""}}function Ja(a,b){if(!b)return a;if(/^[a-z][a-z0-9+\-.]*:/i.test(b))return b;var c;if(b.charAt(0)==="/"){c=a.indexOf("://");b.charAt(1)==="/"?++c:c=a.indexOf("/",c+3);return a.substring(0,c)+b}var d=a.length;c=a.lastIndexOf("#");d=c>=0?c:d;c=a.lastIndexOf("?",d);c=a.lastIndexOf("/",c>=0?c:d);return a.substring(0,c+1)+b}function S(a,b,c){Object.defineProperty(a,b,{value:c,enumerable:true,configurable:true,writable:false});return c}function H(){var a={};a.promise=new Promise(function(b,c){a.resolve=
b;a.reject=c});return a}function W(a,b){this.name=a;this.comObj=b;this.callbackIndex=1;this.postMessageTransfers=true;var c=this.callbacksCapabilities={},d=this.actionHandler={};d.console_log=[function(a){console.log.apply(console,a)}];d.console_error=[function(a){console.error.apply(console,a)}];d._unsupported_feature=[function(a){ia.notify(a)}];b.onmessage=function(a){var f=a.data;if(f.isReply){a=f.callbackId;if(f.callbackId in c){var h=c[a];delete c[a];"error"in f?h.reject(f.error):h.resolve(f.data)}else w("Cannot resolve callback "+
a)}else if(f.action in d){var g=d[f.action];f.callbackId?Promise.resolve().then(function(){return g[0].call(g[1],f.data)}).then(function(a){b.postMessage({isReply:true,callbackId:f.callbackId,data:a})},function(a){b.postMessage({isReply:true,callbackId:f.callbackId,error:a})}):g[0].call(g[1],f.data)}else w("Unknown action from worker: "+f.action)}}function ja(a,b){var c=document.createElement("canvas");c.width=a;c.height=b;return c}function ka(a){if(!a.mozCurrentTransform){a._scaleX=a._scaleX||1;
a._scaleY=a._scaleY||1;a._originalSave=a.save;a._originalRestore=a.restore;a._originalRotate=a.rotate;a._originalScale=a.scale;a._originalTranslate=a.translate;a._originalTransform=a.transform;a._originalSetTransform=a.setTransform;a._transformMatrix=[a._scaleX,0,0,a._scaleY,0,0];a._transformStack=[];Object.defineProperty(a,"mozCurrentTransform",{get:function(){return this._transformMatrix}});Object.defineProperty(a,"mozCurrentTransformInverse",{get:function(){var a=this._transformMatrix,c=a[0],d=
a[1],e=a[2],f=a[3],h=a[4],a=a[5],g=c*f-d*e,i=d*e-c*f;return[f/g,d/i,e/i,c/g,(f*h-e*a)/i,(d*h-c*a)/g]}});a.save=function(){var a=this._transformMatrix;this._transformStack.push(a);this._transformMatrix=a.slice(0,6);this._originalSave()};a.restore=function(){var a=this._transformStack.pop();if(a){this._transformMatrix=a;this._originalRestore()}};a.translate=function(a,c){var d=this._transformMatrix;d[4]=d[0]*a+d[2]*c+d[4];d[5]=d[1]*a+d[3]*c+d[5];this._originalTranslate(a,c)};a.scale=function(a,c){var d=
this._transformMatrix;d[0]=d[0]*a;d[1]=d[1]*a;d[2]=d[2]*c;d[3]=d[3]*c;this._originalScale(a,c)};a.transform=function(b,c,d,e,f,h){var g=this._transformMatrix;this._transformMatrix=[g[0]*b+g[2]*c,g[1]*b+g[3]*c,g[0]*d+g[2]*e,g[1]*d+g[3]*e,g[0]*f+g[2]*h+g[4],g[1]*f+g[3]*h+g[5]];a._originalTransform(b,c,d,e,f,h)};a.setTransform=function(b,c,d,e,f,h){this._transformMatrix=[b,c,d,e,f,h];a._originalSetTransform(b,c,d,e,f,h)};a.rotate=function(a){var c=Math.cos(a),d=Math.sin(a),e=this._transformMatrix;this._transformMatrix=
[e[0]*c+e[2]*d,e[1]*c+e[3]*d,e[0]*-d+e[2]*c,e[1]*-d+e[3]*c,e[4],e[5]];this._originalRotate(a)}}}function la(a){var b=X[a[0]];b||w("Unknown IR type: "+a[0]);return b.fromIR(a)}var u=typeof window==="undefined"?this:window,ma=typeof window==="undefined",Y=[0.001,0,0,0.001,0,0];if(!u.PDFJS)u.PDFJS={};u.PDFJS.pdfBug=false;PDFJS.VERBOSITY_LEVELS={errors:0,warnings:1,infos:5};var I=PDFJS.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,
setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,
nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,
endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},Ia=PDFJS.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",
smask:"smask",shadingPattern:"shadingPattern",font:"font"},Z=[],ia=PDFJS.UnsupportedManager={listen:function(a){Z.push(a)},notify:function(a){D('Unsupported feature "'+a+'"');for(var b=0,c=Z.length;b<c;b++)Z[b](a)}};PDFJS.isValidUrl=function(a,b){if(!a)return false;var c=/^[a-z][a-z0-9+\-.]*(?=:)/i.exec(a);if(!c)return b;c=c[0].toLowerCase();switch(c){case "http":case "https":case "ftp":case "mailto":return true;default:return false}};var na=PDFJS.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};
Object.defineProperty(PDFJS,"isLittleEndian",{configurable:true,get:function(){var a=PDFJS,b=new Uint8Array(2);b[0]=1;b=new Uint16Array(b.buffer);return S(a,"isLittleEndian",b[0]===1)}});Object.defineProperty(PDFJS,"hasCanvasTypedArrays",{configurable:true,get:function(){var a=PDFJS,b=document.createElement("canvas");b.width=b.height=1;b=b.getContext("2d").createImageData(1,1);return S(a,"hasCanvasTypedArrays",typeof b.data.buffer!=="undefined")}});var $=function(a,b){this.buffer=a;this.byteLength=
a.length;for(var c=this.length=b===void 0?this.byteLength>>2:b;T<c;){Object.defineProperty($.prototype,T,Ka(T));T++}},Ka=function(a){return{get:function(){var b=this.buffer,c=a<<2;return(b[c]|b[c+1]<<8|b[c+2]<<16|b[c+3]<<24)>>>0},set:function(b){var c=this.buffer,d=a<<2;c[d]=b&255;c[d+1]=b>>8&255;c[d+2]=b>>16&255;c[d+3]=b>>>24&255}}};$.prototype=Object.create(null);var T=0,oa=[1,0,0,1,0,0],A=PDFJS,x=function(){},U=["rgb(",0,",",0,",",0,")"];x.makeCssRgb=function(a){U[1]=a[0];U[3]=a[1];U[5]=a[2];return U.join("")};
x.transform=function(a,b){return[a[0]*b[0]+a[2]*b[1],a[1]*b[0]+a[3]*b[1],a[0]*b[2]+a[2]*b[3],a[1]*b[2]+a[3]*b[3],a[0]*b[4]+a[2]*b[5]+a[4],a[1]*b[4]+a[3]*b[5]+a[5]]};x.applyTransform=function(a,b){return[a[0]*b[0]+a[1]*b[2]+b[4],a[0]*b[1]+a[1]*b[3]+b[5]]};x.applyInverseTransform=function(a,b){var c=b[0]*b[3]-b[1]*b[2];return[(a[0]*b[3]-a[1]*b[2]+b[2]*b[5]-b[4]*b[3])/c,(-a[0]*b[1]+a[1]*b[0]+b[4]*b[1]-b[5]*b[0])/c]};x.getAxialAlignedBoundingBox=function(a,b){var c=x.applyTransform(a,b),d=x.applyTransform(a.slice(2,
4),b),e=x.applyTransform([a[0],a[3]],b),f=x.applyTransform([a[2],a[1]],b);return[Math.min(c[0],d[0],e[0],f[0]),Math.min(c[1],d[1],e[1],f[1]),Math.max(c[0],d[0],e[0],f[0]),Math.max(c[1],d[1],e[1],f[1])]};x.inverseTransform=function(a){var b=a[0]*a[3]-a[1]*a[2];return[a[3]/b,-a[1]/b,-a[2]/b,a[0]/b,(a[2]*a[5]-a[4]*a[3])/b,(a[4]*a[1]-a[5]*a[0])/b]};x.apply3dTransform=function(a,b){return[a[0]*b[0]+a[1]*b[1]+a[2]*b[2],a[3]*b[0]+a[4]*b[1]+a[5]*b[2],a[6]*b[0]+a[7]*b[1]+a[8]*b[2]]};x.singularValueDecompose2dScale=
function(a){var b=[a[0],a[2],a[1],a[3]],c=a[0]*b[0]+a[1]*b[2],d=a[2]*b[1]+a[3]*b[3],e=(c+d)/2,a=Math.sqrt((c+d)*(c+d)-4*(c*d-(a[2]*b[0]+a[3]*b[2])*(a[0]*b[1]+a[1]*b[3])))/2,b=e-a||1;return[Math.sqrt(e+a||1),Math.sqrt(b)]};x.normalizeRect=function(a){var b=a.slice(0);if(a[0]>a[2]){b[0]=a[2];b[2]=a[0]}if(a[1]>a[3]){b[1]=a[3];b[3]=a[1]}return b};x.intersect=function(a,b){function c(a,b){return a-b}var d=[a[0],a[2],b[0],b[2]].sort(c),e=[a[1],a[3],b[1],b[3]].sort(c),f=[],a=x.normalizeRect(a),b=x.normalizeRect(b);
if(d[0]===a[0]&&d[1]===b[0]||d[0]===b[0]&&d[1]===a[0]){f[0]=d[1];f[2]=d[2]}else return false;if(e[0]===a[1]&&e[1]===b[1]||e[0]===b[1]&&e[1]===a[1]){f[1]=e[1];f[3]=e[2]}else return false;return f};x.sign=function(a){return a<0?-1:1};x.appendToArray=function(a,b){Array.prototype.push.apply(a,b)};x.prependToArray=function(a,b){Array.prototype.unshift.apply(a,b)};x.extendObj=function(a,b){for(var c in b)a[c]=b[c]};x.getInheritableProperty=function(a,b){for(;a&&!a.has(b);)a=a.get("Parent");return!a?null:
a.get(b)};x.inherit=function(a,b,c){a.prototype=Object.create(b.prototype);a.prototype.constructor=a;for(var d in c)a.prototype[d]=c[d]};x.loadScript=function(a,b){var c=document.createElement("script"),d=false;c.setAttribute("src",a);if(b)c.onload=function(){d||b();d=true};document.getElementsByTagName("head")[0].appendChild(c)};var B=A.Util=x,A=PDFJS,aa=function(a,b,c,d,e,f){this.viewBox=a;this.scale=b;this.rotation=c;this.offsetX=d;this.offsetY=e;var h=(a[2]+a[0])/2,g=(a[3]+a[1])/2,i,j,k,c=c%360;
switch(c<0?c+360:c){case 180:c=-1;j=i=0;k=1;break;case 90:c=0;j=i=1;k=0;break;case 270:c=0;j=i=-1;k=0;break;default:c=1;j=i=0;k=-1}if(f){j=-j;k=-k}if(c===0){d=Math.abs(g-a[1])*b+d;e=Math.abs(h-a[0])*b+e;f=Math.abs(a[3]-a[1])*b;a=Math.abs(a[2]-a[0])*b}else{d=Math.abs(h-a[0])*b+d;e=Math.abs(g-a[1])*b+e;f=Math.abs(a[2]-a[0])*b;a=Math.abs(a[3]-a[1])*b}this.transform=[c*b,i*b,j*b,k*b,d-c*b*h-j*b*g,e-i*b*h-k*b*g];this.width=f;this.height=a;this.fontScale=b};aa.prototype={clone:function(a){var a=a||{},b=
"scale"in a?a.scale:this.scale,c="rotation"in a?a.rotation:this.rotation;return new aa(this.viewBox.slice(),b,c,this.offsetX,this.offsetY,a.dontFlip)},convertToViewportPoint:function(a,b){return B.applyTransform([a,b],this.transform)},convertToViewportRectangle:function(a){var b=B.applyTransform([a[0],a[1]],this.transform),a=B.applyTransform([a[2],a[3]],this.transform);return[b[0],b[1],a[0],a[1]]},convertToPdfPoint:function(a,b){return B.applyInverseTransform([a,b],this.transform)}};A.PageViewport=
aa;PDFJS.createPromiseCapability=H;var G=function(a){this._status=pa;this._handlers=[];try{a.call(this,this._resolve.bind(this),this._reject.bind(this))}catch(b){this._reject(b)}};if(u.Promise){if(typeof u.Promise.all!=="function")u.Promise.all=function(a){var b=0,c=[],d,e,f=new u.Promise(function(a,b){d=a;e=b});a.forEach(function(a,f){b++;a.then(function(a){c[f]=a;b--;b===0&&d(c)},e)});b===0&&d(c);return f};if(typeof u.Promise.resolve!=="function")u.Promise.resolve=function(a){return new u.Promise(function(b){b(a)})};
if(typeof u.Promise.reject!=="function")u.Promise.reject=function(a){return new u.Promise(function(b,c){c(a)})};if(typeof u.Promise.prototype.catch!=="function")u.Promise.prototype.catch=function(a){return u.Promise.prototype.then(void 0,a)}}else{var pa=0,N=2,ba={handlers:[],running:false,unhandledRejections:[],pendingRejectionCheck:false,scheduleHandlers:function(a){if(a._status!==pa){this.handlers=this.handlers.concat(a._handlers);a._handlers=[];if(!this.running){this.running=true;setTimeout(this.runHandlers.bind(this),
0)}}},runHandlers:function(){for(var a=Date.now()+1;this.handlers.length>0;){var b=this.handlers.shift(),c=b.thisPromise._status,d=b.thisPromise._value;try{if(c===1)typeof b.onResolve==="function"&&(d=b.onResolve(d));else if(typeof b.onReject==="function"){d=b.onReject(d);c=1;b.thisPromise._unhandledRejection&&this.removeUnhandeledRejection(b.thisPromise)}}catch(e){c=N;d=e}b.nextPromise._updateStatus(c,d);if(Date.now()>=a)break}this.handlers.length>0?setTimeout(this.runHandlers.bind(this),0):this.running=
false},addUnhandledRejection:function(a){this.unhandledRejections.push({promise:a,time:Date.now()});this.scheduleRejectionCheck()},removeUnhandeledRejection:function(a){a._unhandledRejection=false;for(var b=0;b<this.unhandledRejections.length;b++)if(this.unhandledRejections[b].promise===a){this.unhandledRejections.splice(b);b--}},scheduleRejectionCheck:function(){if(!this.pendingRejectionCheck){this.pendingRejectionCheck=true;setTimeout(function(){this.pendingRejectionCheck=false;for(var a=Date.now(),
b=0;b<this.unhandledRejections.length;b++)if(a-this.unhandledRejections[b].time>500){var c=this.unhandledRejections[b].promise._value,d="Unhandled rejection: "+c;c.stack&&(d=d+("\n"+c.stack));D(d);this.unhandledRejections.splice(b);b--}this.unhandledRejections.length&&this.scheduleRejectionCheck()}.bind(this),500)}}};G.all=function(a){function b(a){if(e._status!==N){h=[];d(a)}}var c,d,e=new G(function(a,b){c=a;d=b}),f=a.length,h=[];if(f===0){c(h);return e}for(var g=0,i=a.length;g<i;++g){var j=a[g],
k=function(a){return function(b){if(e._status!==N){h[a]=b;f--;f===0&&c(h)}}}(g);G.isPromise(j)?j.then(k,b):k(j)}return e};G.isPromise=function(a){return a&&typeof a.then==="function"};G.resolve=function(a){return new G(function(b){b(a)})};G.reject=function(a){return new G(function(b,c){c(a)})};G.prototype={_status:null,_value:null,_handlers:null,_unhandledRejection:null,_updateStatus:function(a,b){if(!(this._status===1||this._status===N))if(a===1&&G.isPromise(b))b.then(this._updateStatus.bind(this,
1),this._updateStatus.bind(this,N));else{this._status=a;this._value=b;if(a===N&&this._handlers.length===0){this._unhandledRejection=true;ba.addUnhandledRejection(this)}ba.scheduleHandlers(this)}},_resolve:function(a){this._updateStatus(1,a)},_reject:function(a){this._updateStatus(N,a)},then:function(a,b){var c=new G(function(a,b){this.resolve=a;this.reject=b});this._handlers.push({thisPromise:this,onResolve:a,onReject:b,nextPromise:c});ba.scheduleHandlers(this);return c},"catch":function(a){return this.then(void 0,
a)}};u.Promise=G}var qa=function(){this.started={};this.times=[];this.enabled=true};qa.prototype={time:function(a){if(this.enabled){a in this.started&&D("Timer is already running for "+a);this.started[a]=Date.now()}},timeEnd:function(a){if(this.enabled){a in this.started||D("Timer has not been started for "+a);this.times.push({name:a,start:this.started[a],end:Date.now()});delete this.started[a]}},toString:function(){var a,b,c=this.times,d="",e=0;a=0;for(b=c.length;a<b;++a){var f=c[a].name;if(f.length>
e)e=f.length}a=0;for(b=c.length;a<b;++a){for(var h=c[a],f=h.end-h.start,h=h.name;h.length<e;)h=h+" ";d=d+(h+" "+f+"ms\n")}return d}};PDFJS.createBlob=function(a,b){if(typeof Blob!=="undefined")return new Blob([a],{type:b});var c=new MozBlobBuilder;c.append(a);return c.getBlob(b)};PDFJS.createObjectURL=function(a,b){if(!PDFJS.disableCreateObjectURL&&typeof URL!=="undefined"&&URL.createObjectURL){var c=PDFJS.createBlob(a,b);return URL.createObjectURL(c)}for(var c="data:"+b+";base64,",d=0,e=a.length;d<
e;d=d+3)var f=a[d]&255,h=a[d+1]&255,g=a[d+2]&255,c=c+("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[f>>2]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[(f&3)<<4|h>>4]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[d+1<e?(h&15)<<2|g>>6:64]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="[d+2<e?g&63:64]);return c};W.prototype={on:function(a,b,c){var d=this.actionHandler;d[a]&&w('There is already an actionName called "'+
a+'"');d[a]=[b,c]},send:function(a,b,c){this.postMessage({action:a,data:b},c)},sendWithPromise:function(a,b,c){var d=this.callbackIndex++,a={action:a,data:b,callbackId:d},b=H();this.callbacksCapabilities[d]=b;try{this.postMessage(a,c)}catch(e){b.reject(e)}return b.promise},postMessage:function(a,b){b&&this.postMessageTransfers?this.comObj.postMessage(a,b):this.comObj.postMessage(a)}};PDFJS.maxImageSize=PDFJS.maxImageSize===void 0?-1:PDFJS.maxImageSize;PDFJS.cMapUrl=PDFJS.cMapUrl===void 0?null:PDFJS.cMapUrl;
PDFJS.cMapPacked=PDFJS.cMapPacked===void 0?false:PDFJS.cMapPacked;PDFJS.disableFontFace=PDFJS.disableFontFace===void 0?false:PDFJS.disableFontFace;PDFJS.imageResourcesPath=PDFJS.imageResourcesPath===void 0?"":PDFJS.imageResourcesPath;PDFJS.disableWorker=PDFJS.disableWorker===void 0?false:PDFJS.disableWorker;PDFJS.workerSrc=PDFJS.workerSrc===void 0?null:PDFJS.workerSrc;PDFJS.disableRange=PDFJS.disableRange===void 0?false:PDFJS.disableRange;PDFJS.disableAutoFetch=PDFJS.disableAutoFetch===void 0?false:
PDFJS.disableAutoFetch;PDFJS.pdfBug=PDFJS.pdfBug===void 0?false:PDFJS.pdfBug;PDFJS.postMessageTransfers=PDFJS.postMessageTransfers===void 0?true:PDFJS.postMessageTransfers;PDFJS.disableCreateObjectURL=PDFJS.disableCreateObjectURL===void 0?false:PDFJS.disableCreateObjectURL;PDFJS.disableWebGL=PDFJS.disableWebGL===void 0?true:PDFJS.disableWebGL;PDFJS.useOnlyCssZoom=PDFJS.useOnlyCssZoom===void 0?false:PDFJS.useOnlyCssZoom;PDFJS.verbosity=PDFJS.verbosity===void 0?PDFJS.VERBOSITY_LEVELS.warnings:PDFJS.verbosity;
PDFJS.maxCanvasPixels=PDFJS.maxCanvasPixels===void 0?16777216:PDFJS.maxCanvasPixels;PDFJS.getDocument=function(a,b,c,d){var e,f;typeof a==="string"?a={url:a}:typeof a==="object"&&a!==null&&a.byteLength!==void 0?a={data:a}:typeof a!=="object"&&w("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");!a.url&&!a.data&&w("Invalid parameter array, need either .data or .url");var h={};for(e in a)h[e]=e==="url"&&typeof window!=="undefined"?Ja(window.location.href,a[e]):
a[e];a=H();e=H();f=new ra(a,e,b,d);a.promise.then(function(){f.passwordCallback=c;f.fetchDocument(h)});return e.promise};var sa=function(a,b){this.pdfInfo=a;this.transport=b};sa.prototype={get numPages(){return this.pdfInfo.numPages},get fingerprint(){return this.pdfInfo.fingerprint},getPage:function(a){return this.transport.getPage(a)},getPageIndex:function(a){return this.transport.getPageIndex(a)},getDestinations:function(){return this.transport.getDestinations()},getAttachments:function(){return this.transport.getAttachments()},
getJavaScript:function(){return this.transport.getJavaScript()},getOutline:function(){return this.transport.getOutline()},getMetadata:function(){return this.transport.getMetadata()},getData:function(){return this.transport.getData()},getDownloadInfo:function(){return this.transport.downloadInfoCapability.promise},getStats:function(){return this.transport.getStats()},cleanup:function(){this.transport.startCleanup()},destroy:function(){this.transport.destroy()}};var ta=function(a,b,c){this.pageIndex=
a;this.pageInfo=b;this.transport=c;this.stats=new qa;this.stats.enabled=!!u.PDFJS.enableStats;this.commonObjs=c.commonObjs;this.objs=new ca;this.pendingDestroy=this.cleanupAfterRender=false;this.intentStates={}};ta.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this.pageInfo.rotate},get ref(){return this.pageInfo.ref},get view(){return this.pageInfo.view},getViewport:function(a,b){if(arguments.length<2)b=this.rotate;return new PDFJS.PageViewport(this.view,a,b,0,0)},getAnnotations:function(){if(this.annotationsPromise)return this.annotationsPromise;
var a=this.transport.getAnnotations(this.pageIndex);return this.annotationsPromise=a},render:function(a){function b(a){var b=e.renderTasks.indexOf(f);b>=0&&e.renderTasks.splice(b,1);if(h.cleanupAfterRender)h.pendingDestroy=true;h._tryDestroy();a?f.capability.reject(a):f.capability.resolve();c.timeEnd("Rendering");c.timeEnd("Overall")}var c=this.stats;c.time("Overall");this.pendingDestroy=false;var d=a.intent==="print"?"print":"display";this.intentStates[d]||(this.intentStates[d]={});var e=this.intentStates[d];
if(!e.displayReadyCapability){e.receivingOperatorList=true;e.displayReadyCapability=H();e.operatorList={fnArray:[],argsArray:[],lastChunk:false};this.stats.time("Page Request");this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:d})}var f=new ua(b,a,this.objs,this.commonObjs,e.operatorList,this.pageNumber);if(!e.renderTasks)e.renderTasks=[];e.renderTasks.push(f);var a=new va(f),h=this;e.displayReadyCapability.promise.then(function(a){if(h.pendingDestroy)b();
else{c.time("Rendering");f.initalizeGraphics(a);f.operatorListChanged()}},function(a){b(a)});return a},getOperatorList:function(){function a(){b.operatorList.lastChunk&&b.opListReadCapability.resolve(b.operatorList)}this.intentStates.oplist||(this.intentStates.oplist={});var b=this.intentStates.oplist;if(!b.opListReadCapability){var c={};c.operatorListChanged=a;b.receivingOperatorList=true;b.opListReadCapability=H();b.renderTasks=[];b.renderTasks.push(c);b.operatorList={fnArray:[],argsArray:[],lastChunk:false};
this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})}return b.opListReadCapability.promise},getTextContent:function(){return this.transport.messageHandler.sendWithPromise("GetTextContent",{pageIndex:this.pageNumber-1})},destroy:function(){this.pendingDestroy=true;this._tryDestroy()},_tryDestroy:function(){if(this.pendingDestroy&&!Object.keys(this.intentStates).some(function(a){a=this.intentStates[a];return a.renderTasks.length!==0||a.receivingOperatorList},
this)){Object.keys(this.intentStates).forEach(function(a){delete this.intentStates[a]},this);this.objs.clear();this.annotationsPromise=null;this.pendingDestroy=false}},_startRenderPage:function(a,b){var c=this.intentStates[b];c.displayReadyCapability&&c.displayReadyCapability.resolve(a)},_renderPageChunk:function(a,b){var c=this.intentStates[b],d,e;d=0;for(e=a.length;d<e;d++){c.operatorList.fnArray.push(a.fnArray[d]);c.operatorList.argsArray.push(a.argsArray[d])}c.operatorList.lastChunk=a.lastChunk;
for(d=0;d<c.renderTasks.length;d++)c.renderTasks[d].operatorListChanged();if(a.lastChunk){c.receivingOperatorList=false;this._tryDestroy()}}};var ra,A=function(a,b,c,d){this.pdfDataRangeTransport=c;this.workerInitializedCapability=a;this.workerReadyCapability=b;this.progressCallback=d;this.commonObjs=new ca;this.pageCache=[];this.pagePromises=[];this.downloadInfoCapability=H();this.passwordCallback=null;if(!u.PDFJS.disableWorker&&typeof Worker!=="undefined"){(b=PDFJS.workerSrc)||w("No PDFJS.workerSrc specified");
try{var e=new Worker(b),f=new W("main",e);this.messageHandler=f;f.on("test",function(b){if(b&&b.supportTypedArray){this.worker=e;if(!b.supportTransfers)PDFJS.postMessageTransfers=false;this.setupMessageHandler(f);a.resolve()}else this.setupFakeWorker()}.bind(this));var h=new Uint8Array([PDFJS.postMessageTransfers?255:0]);try{f.send("test",h,[h.buffer])}catch(g){M("Cannot use postMessage transfers");h[0]=0;f.send("test",h)}return}catch(i){M("The worker has been disabled.")}}this.setupFakeWorker()};
A.prototype={destroy:function(){this.pageCache=[];this.pagePromises=[];var a=this;this.messageHandler.sendWithPromise("Terminate",null).then(function(){J.clear();a.worker&&a.worker.terminate()})},setupFakeWorker:function(){u.PDFJS.disableWorker=true;if(!PDFJS.fakeWorkerFilesLoadedCapability){PDFJS.fakeWorkerFilesLoadedCapability=H();B.loadScript(PDFJS.workerSrc,function(){PDFJS.fakeWorkerFilesLoadedCapability.resolve()})}PDFJS.fakeWorkerFilesLoadedCapability.promise.then(function(){D("Setting up fake worker.");
var a={postMessage:function(b){a.onmessage({data:b})},terminate:function(){}},b=new W("main",a);this.setupMessageHandler(b);PDFJS.WorkerMessageHandler.setup(b);this.workerInitializedCapability.resolve()}.bind(this))},setupMessageHandler:function(a){function b(b){a.send("UpdatePassword",b)}this.messageHandler=a;var c=this.pdfDataRangeTransport;if(c){c.addRangeListener(function(b,c){a.send("OnDataRange",{begin:b,chunk:c})});c.addProgressListener(function(b){a.send("OnDataProgress",{loaded:b})});a.on("RequestDataRange",
function(a){c.requestDataRange(a.begin,a.end)},this)}a.on("GetDoc",function(a){var b=a.pdfInfo;this.numPages=a.pdfInfo.numPages;this.pdfDocument=a=new sa(b,this);this.workerReadyCapability.resolve(a)},this);a.on("NeedPassword",function(a){if(this.passwordCallback)return this.passwordCallback(b,na.NEED_PASSWORD);this.workerReadyCapability.reject(a.exception.message,a.exception)},this);a.on("IncorrectPassword",function(a){if(this.passwordCallback)return this.passwordCallback(b,na.INCORRECT_PASSWORD);
this.workerReadyCapability.reject(a.exception.message,a.exception)},this);a.on("InvalidPDF",function(a){this.workerReadyCapability.reject(a.exception.name,a.exception)},this);a.on("MissingPDF",function(a){this.workerReadyCapability.reject(a.exception.message,a.exception)},this);a.on("UnknownError",function(a){this.workerReadyCapability.reject(a.exception.message,a.exception)},this);a.on("DataLoaded",function(a){this.downloadInfoCapability.resolve(a)},this);a.on("StartRenderPage",function(a){var b=
this.pageCache[a.pageIndex];b.stats.timeEnd("Page Request");b._startRenderPage(a.transparency,a.intent)},this);a.on("RenderPageChunk",function(a){this.pageCache[a.pageIndex]._renderPageChunk(a.operatorList,a.intent)},this);a.on("commonobj",function(a){var b=a[0],c=a[1];if(!this.commonObjs.hasData(b))switch(c){case "Font":var a=a[2],h;if("error"in a){var g=a.error;D("Error during font loading: "+g);this.commonObjs.resolve(b,g);break}else h=new wa(a);J.bind([h],function(){this.commonObjs.resolve(b,
h)}.bind(this));break;case "FontPath":this.commonObjs.resolve(b,a[2]);break;default:g("Got unknown common object type "+c)}},this);a.on("obj",function(a){var b=a[0],c=a[2],h=this.pageCache[a[1]];if(!h.objs.hasData(b))switch(c){case "JpegStream":var a=a[3],g=h.objs,i=new Image;i.onload=function(){g.resolve(b,i)};i.onerror=function(){g.resolve(b,null);D("Error during JPEG image loading")};i.src=a;break;case "Image":a=a[3];h.objs.resolve(b,a);if(a&&"data"in a&&a.data.length>8E6)h.cleanupAfterRender=
true;break;default:w("Got unknown object type "+c)}},this);a.on("DocProgress",function(a){this.progressCallback&&this.progressCallback({loaded:a.loaded,total:a.total})},this);a.on("DocError",function(a){this.workerReadyCapability.reject(a)},this);a.on("PageError",function(a){var b=this.pageCache[a.pageNum-1].intentStates[a.intent];b.displayReadyCapability.promise?b.displayReadyCapability.reject(a.error):w(a.error)},this);a.on("JpegDecode",function(a){var b=a[0],c=a[1];return c!==3&&c!==1?Promise.reject(Error("Only 3 components or 1 component can be returned")):
new Promise(function(a,d){var i=new Image;i.onload=function(){var b=i.width,d=i.height,e=b*d,g=e*4,e=new Uint8Array(e*c),n=ja(b,d).getContext("2d");n.drawImage(i,0,0);var n=n.getImageData(0,0,b,d).data,l,o;if(c===3)for(o=l=0;l<g;l=l+4,o=o+3){e[o]=n[l];e[o+1]=n[l+1];e[o+2]=n[l+2]}else if(c===1)for(o=l=0;l<g;l=l+4,o++)e[o]=n[l];a({data:e,width:b,height:d})};i.onerror=function(){d(Error("JpegDecode failed to load image"))};i.src=b})})},fetchDocument:function(a){a.disableAutoFetch=PDFJS.disableAutoFetch;
a.chunkedViewerLoading=!!this.pdfDataRangeTransport;this.messageHandler.send("GetDocRequest",{source:a,disableRange:PDFJS.disableRange,maxImageSize:PDFJS.maxImageSize,cMapUrl:PDFJS.cMapUrl,cMapPacked:PDFJS.cMapPacked,disableFontFace:PDFJS.disableFontFace,disableCreateObjectURL:PDFJS.disableCreateObjectURL,verbosity:PDFJS.verbosity})},getData:function(){return this.messageHandler.sendWithPromise("GetData",null)},getPage:function(a){if(a<=0||a>this.numPages||(a|0)!==a)return Promise.reject(Error("Invalid page request"));
var b=a-1;if(b in this.pagePromises)return this.pagePromises[b];a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:b}).then(function(a){a=new ta(b,a,this);return this.pageCache[b]=a}.bind(this));return this.pagePromises[b]=a},getPageIndex:function(a){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:a})},getAnnotations:function(a){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:a})},getDestinations:function(){return this.messageHandler.sendWithPromise("GetDestinations",
null)},getAttachments:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)},getJavaScript:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)},getOutline:function(){return this.messageHandler.sendWithPromise("GetOutline",null)},getMetadata:function(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(a){return{info:a[0],metadata:a[1]?new PDFJS.Metadata(a[1]):null}})},getStats:function(){return this.messageHandler.sendWithPromise("GetStats",
null)},startCleanup:function(){this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var a=0,b=this.pageCache.length;a<b;a++){var c=this.pageCache[a];c&&c.destroy()}this.commonObjs.clear();J.clear()}.bind(this))}};ra=A;var ca,A=function(){this.objs={}};A.prototype={ensureObj:function(a){if(this.objs[a])return this.objs[a];var b={capability:H(),data:null,resolved:false};return this.objs[a]=b},get:function(a,b){if(b){this.ensureObj(a).capability.promise.then(b);return null}var c=this.objs[a];
(!c||!c.resolved)&&w("Requesting object that isn't resolved yet "+a);return c.data},resolve:function(a,b){var c=this.ensureObj(a);c.resolved=true;c.data=b;c.capability.resolve(b)},isResolved:function(a){var b=this.objs;return b[a]?b[a].resolved:false},hasData:function(a){return this.isResolved(a)},getData:function(a){var b=this.objs;return!b[a]||!b[a].resolved?null:b[a].data},clear:function(){this.objs={}}};ca=A;var va,A=function(a){this.internalRenderTask=a;this.promise=this.internalRenderTask.capability.promise};
A.prototype={cancel:function(){this.internalRenderTask.cancel()},then:function(a,b){return this.promise.then(a,b)}};va=A;var ua,A=function(a,b,c,d,e,f){this.callback=a;this.params=b;this.objs=c;this.commonObjs=d;this.operatorListIdx=null;this.operatorList=e;this.pageNumber=f;this.running=false;this.graphicsReadyCallback=null;this.cancelled=this.graphicsReady=false;this.capability=H();this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=
this._next.bind(this)};A.prototype={initalizeGraphics:function(a){if(!this.cancelled){if(PDFJS.pdfBug&&"StepperManager"in u&&u.StepperManager.enabled){this.stepper=u.StepperManager.create(this.pageNumber-1);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var b=this.params;this.gfx=new da(b.canvasContext,this.commonObjs,this.objs,b.imageLayer);this.gfx.beginDrawing(b.viewport,a);this.operatorListIdx=0;this.graphicsReady=true;this.graphicsReadyCallback&&
this.graphicsReadyCallback()}},cancel:function(){this.running=false;this.cancelled=true;this.callback("cancelled")},operatorListChanged:function(){if(this.graphicsReady){this.stepper&&this.stepper.updateOperatorList(this.operatorList);this.running||this._continue()}else if(!this.graphicsReadyCallback)this.graphicsReadyCallback=this._continueBound},_continue:function(){this.running=true;this.cancelled||(this.params.continueCallback?this.params.continueCallback(this._scheduleNextBound):this._scheduleNext())},
_scheduleNext:function(){window.requestAnimationFrame(this._nextBound)},_next:function(){if(!this.cancelled){this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();this.callback()}}}}};ua=A;var A=PDFJS,xa=function(a){if(typeof a==="string"){a=a.replace(/>\\376\\377([^<]+)/g,function(a,c){for(var d=
c.replace(/\\([0-3])([0-7])([0-7])/g,function(a,b,c,d){return String.fromCharCode(b*64+c*8+d*1)}),e="",f=0;f<d.length;f=f+2)var h=d.charCodeAt(f)*256+d.charCodeAt(f+1),e=e+("&#x"+(65536+h).toString(16).substring(1)+";");return">"+e});a=(new DOMParser).parseFromString(a,"application/xml")}else a instanceof Document||w("Metadata: Invalid metadata object");this.metaDocument=a;this.metadata={};this.parse()};xa.prototype={parse:function(){var a=this.metaDocument.documentElement;if(a.nodeName.toLowerCase()!==
"rdf:rdf")for(a=a.firstChild;a&&a.nodeName.toLowerCase()!=="rdf:rdf";)a=a.nextSibling;var b=a?a.nodeName.toLowerCase():null;if(a&&b==="rdf:rdf"&&a.hasChildNodes()){var a=a.childNodes,c,d,e,f,h,g;e=0;for(h=a.length;e<h;e++){b=a[e];if(b.nodeName.toLowerCase()==="rdf:description"){f=0;for(g=b.childNodes.length;f<g;f++)if(b.childNodes[f].nodeName.toLowerCase()!=="#text"){c=b.childNodes[f];d=c.nodeName.toLowerCase();this.metadata[d]=c.textContent.trim()}}}}},get:function(a){return this.metadata[a]||null},
has:function(a){return typeof this.metadata[a]!=="undefined"}};A.Metadata=xa;var C,P={};C={getCanvas:function(a,b,c,d){if(a in P){a=P[a];a.canvas.width=b;a.canvas.height=c;a.context.setTransform(1,0,0,1,0,0)}else{b=ja(b,c);c=b.getContext("2d");d&&ka(c);P[a]=a={canvas:b,context:c}}return a},clear:function(){for(var a in P){var b=P[a];b.canvas.width=0;b.canvas.height=0;delete P[a]}}};var ea=function(a){this.alphaIsShape=false;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=oa;this.textMatrixScale=
1;this.fontMatrix=Y;this.wordSpacing=this.charSpacing=this.lineY=this.lineX=this.y=this.x=this.leading=0;this.textHScale=1;this.textRise=this.textRenderingMode=0;this.strokeColor=this.fillColor="#000000";this.lineWidth=this.strokeAlpha=this.fillAlpha=1;this.activeSMask=null;this.old=a};ea.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(a,b){this.x=a;this.y=b}};var da,A=function(a,b,c,d){this.ctx=a;this.current=new ea;this.stateStack=[];this.pendingClip=null;this.pendingEOFill=
false;this.xobjs=this.res=null;this.commonObjs=b;this.objs=c;this.imageLayer=d;this.groupStack=[];this.baseTransform=this.processingType3=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;a&&ka(a)},ya=function(a,b){if(typeof ImageData!=="undefined"&&b instanceof ImageData)a.putImageData(b,0,0);else{var c=b.height,d=b.width,e=c/16,f=Math.floor(e),e=Math.ceil(e),c=c-f*16,h=a.createImageData(d,16),g=0,i,j=b.data,k=h.data,p,m,n;if(b.kind===1){var l=
j.byteLength,k=PDFJS.hasCanvasTypedArrays?new Uint32Array(k.buffer):new $(k),o=k.length,t=d+7>>3,q=PDFJS.isLittleEndian||!PDFJS.hasCanvasTypedArrays?4278190080:255;for(p=0;p<e;p++){n=p<f?16:c;for(m=i=0;m<n;m++){for(var r=l-g,F=0,r=r>t?d:r*8-7,s=r&-8,v=0,y=0;F<s;F=F+8){y=j[g++];k[i++]=y&128?4294967295:q;k[i++]=y&64?4294967295:q;k[i++]=y&32?4294967295:q;k[i++]=y&16?4294967295:q;k[i++]=y&8?4294967295:q;k[i++]=y&4?4294967295:q;k[i++]=y&2?4294967295:q;k[i++]=y&1?4294967295:q}for(;F<r;F++){if(v===0){y=
j[g++];v=128}k[i++]=y&v?4294967295:q;v=v>>1}}for(;i<o;)k[i++]=0;a.putImageData(h,0,p*16)}}else if(b.kind===3){m=0;n=d*64;for(p=0;p<f;p++){k.set(j.subarray(g,g+n));g=g+n;a.putImageData(h,0,m);m=m+16}if(p<e){k.set(j.subarray(g,g+d*c*4));a.putImageData(h,0,m)}}else if(b.kind===2){n=d*16;for(p=0;p<e;p++){if(p>=f){n=c;n=d*n}i=0;for(m=n;m--;){k[i++]=j[g++];k[i++]=j[g++];k[i++]=j[g++];k[i++]=255}a.putImageData(h,0,p*16)}}else w("bad image kind: "+b.kind)}},fa=function(a,b){for(var c=b.height,d=b.width,e=
c/16,f=Math.floor(e),e=Math.ceil(e),c=c-f*16,h=a.createImageData(d,16),g=0,i=b.data,j=h.data,k=0;k<e;k++){for(var p=k<f?16:c,m=3,n=0;n<p;n++)for(var l=0,o=0;o<d;o++){if(!l)var t=i[g++],l=128;j[m]=t&l?0:255;m=m+4;l=l>>1}a.putImageData(h,0,k*16)}},za=function(a,b){for(var c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],d=0,e=c.length;d<e;d++){var f=c[d];f in a&&(b[f]=a[f])}if("setLineDash"in a){b.setLineDash(a.getLineDash());
b.lineDashOffset=a.lineDashOffset}else if("mozDash"in a){b.mozDash=a.mozDash;b.mozDashOffset=a.mozDashOffset}},La=function(a,b){for(var c=a.length,d=1/255,e=3;e<c;e=e+4)b[e]=b[e]*a[e]*d|0},Ma=function(a,b){for(var c=a.length,d=3;d<c;d=d+4)b[d]=b[d]*(a[d-3]*77+a[d-2]*152+a[d-1]*28|0)>>16},Na=["butt","round","square"],Oa=["miter","round","bevel"],Pa={},Aa={};A.prototype={beginDrawing:function(a,b){var c=this.ctx.canvas.width,d=this.ctx.canvas.height;if(b)this.ctx.clearRect(0,0,c,d);else{this.ctx.mozOpaque=
true;this.ctx.save();this.ctx.fillStyle="rgb(255, 255, 255)";this.ctx.fillRect(0,0,c,d);this.ctx.restore()}c=a.transform;this.ctx.save();this.ctx.transform.apply(this.ctx,c);this.baseTransform=this.ctx.mozCurrentTransform.slice();this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(a,b,c,d){var e=a.argsArray,a=a.fnArray,b=b||0,f=e.length;if(f===b)return b;for(var h=f-b>10&&typeof c==="function",g=h?Date.now()+15:0,i=0,j=this.commonObjs,k=this.objs,p;;){if(d!==void 0&&b===d.nextBreakPoint){d.breakIt(b,
c);return b}p=a[b];if(p!==I.dependency)this[p].apply(this,e[b]);else{p=e[b];for(var m=0,n=p.length;m<n;m++){var l=p[m],o=l[0]==="g"&&l[1]==="_"?j:k;if(!o.isResolved(l)){o.get(l,c);return b}}}b++;if(b===f)return b;if(h&&++i>10){if(Date.now()>g){c();return b}i=0}}},endDrawing:function(){this.ctx.restore();C.clear();Q.clear();this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(a){this.current.lineWidth=a;this.ctx.lineWidth=a},setLineCap:function(a){this.ctx.lineCap=Na[a]},setLineJoin:function(a){this.ctx.lineJoin=
Oa[a]},setMiterLimit:function(a){this.ctx.miterLimit=a},setDash:function(a,b){var c=this.ctx;if("setLineDash"in c){c.setLineDash(a);c.lineDashOffset=b}else{c.mozDash=a;c.mozDashOffset=b}},setRenderingIntent:function(){},setFlatness:function(){},setGState:function(a){for(var b=0,c=a.length;b<c;b++){var d=a[b],e=d[1];switch(d[0]){case "LW":this.setLineWidth(e);break;case "LC":this.setLineCap(e);break;case "LJ":this.setLineJoin(e);break;case "ML":this.setMiterLimit(e);break;case "D":this.setDash(e[0],
e[1]);break;case "RI":this.setRenderingIntent(e);break;case "FL":this.setFlatness(e);break;case "Font":this.setFont(e[0],e[1]);break;case "CA":this.current.strokeAlpha=d[1];break;case "ca":this.current.fillAlpha=d[1];this.ctx.globalAlpha=d[1];break;case "BM":if(e&&e.name&&e.name!=="Normal"){d=e.name.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()}).substring(1);this.ctx.globalCompositeOperation=d;this.ctx.globalCompositeOperation!==d&&D('globalCompositeOperation "'+d+'" is not supported')}else this.ctx.globalCompositeOperation=
"source-over";break;case "SMask":this.current.activeSMask&&this.endSMaskGroup();this.current.activeSMask=e?this.tempSMask:null;this.current.activeSMask&&this.beginSMaskGroup();this.tempSMask=null}}},beginSMaskGroup:function(){var a=this.current.activeSMask,b=C.getCanvas("smaskGroupAt"+this.groupLevel,a.canvas.width,a.canvas.height,true),c=this.ctx,d=c.mozCurrentTransform;this.ctx.save();b=b.context;b.scale(1/a.scaleX,1/a.scaleY);b.translate(-a.offsetX,-a.offsetY);b.transform.apply(b,d);za(c,b);this.ctx=
b;this.setGState([["BM","Normal"],["ca",1],["CA",1]]);this.groupStack.push(c);this.groupLevel++},endSMaskGroup:function(){var a=this.ctx;this.groupLevel--;var b=this.ctx=this.groupStack.pop(),c=this.current.activeSMask,d=c.canvas,e=c.context;b.setTransform(c.scaleX,0,0,c.scaleY,c.offsetX,c.offsetY);var f=c.backdrop||null;if(Q.isEnabled){a=Q.composeSMask(a.canvas,d,{subtype:c.subtype,backdrop:f});b.setTransform(1,0,0,1,0,0);b.drawImage(a,c.offsetX,c.offsetY)}else{for(var h=d.width,g=d.height,i=!!f,
j=i?f[0]:0,k=i?f[1]:0,f=i?f[2]:0,c=c.subtype==="Luminosity"?Ma:La,p=Math.min(g,Math.ceil(65536/h)),m=0;m<g;m=m+p){var n=Math.min(p,g-m),l=e.getImageData(0,m,h,n),n=a.getImageData(0,m,h,n);if(i)for(var o=l.data,t=j,q=k,r=f,F=o.length,s=3;s<F;s=s+4){var v=o[s];if(v===0){o[s-3]=t;o[s-2]=q;o[s-1]=r}else if(v<255){var y=255-v;o[s-3]=o[s-3]*v+t*y>>8;o[s-2]=o[s-2]*v+q*y>>8;o[s-1]=o[s-1]*v+r*y>>8}}c(l.data,n.data);e.putImageData(n,0,m)}b.drawImage(d,0,0)}this.ctx.restore()},save:function(){this.ctx.save();
var a=this.current;this.stateStack.push(a);this.current=a.clone();this.current.activeSMask=null},restore:function(){if(this.stateStack.length!==0){this.current.activeSMask!==null&&this.endSMaskGroup();this.current=this.stateStack.pop();this.ctx.restore()}},transform:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f)},constructPath:function(a,b){for(var c=this.ctx,d=this.current,e=d.x,f=d.y,h=0,g=0,i=a.length;h<i;h++)switch(a[h]|0){case I.rectangle:var e=b[g++],f=b[g++],j=b[g++],k=b[g++];j===0&&
(j=this.getSinglePixelWidth());k===0&&(k=this.getSinglePixelWidth());j=e+j;k=f+k;this.ctx.moveTo(e,f);this.ctx.lineTo(j,f);this.ctx.lineTo(j,k);this.ctx.lineTo(e,k);this.ctx.lineTo(e,f);this.ctx.closePath();break;case I.moveTo:e=b[g++];f=b[g++];c.moveTo(e,f);break;case I.lineTo:e=b[g++];f=b[g++];c.lineTo(e,f);break;case I.curveTo:e=b[g+4];f=b[g+5];c.bezierCurveTo(b[g],b[g+1],b[g+2],b[g+3],e,f);g=g+6;break;case I.curveTo2:c.bezierCurveTo(e,f,b[g],b[g+1],b[g+2],b[g+3]);e=b[g+2];f=b[g+3];g=g+4;break;
case I.curveTo3:e=b[g+2];f=b[g+3];c.bezierCurveTo(b[g],b[g+1],e,f,e,f);g=g+4;break;case I.closePath:c.closePath()}d.setCurrentPoint(e,f)},closePath:function(){this.ctx.closePath()},stroke:function(a){var a=typeof a!=="undefined"?a:true,b=this.ctx,c=this.current.strokeColor;if(this.current.lineWidth===0)b.lineWidth=this.getSinglePixelWidth();b.globalAlpha=this.current.strokeAlpha;if(c&&c.hasOwnProperty("type")&&c.type==="Pattern"){b.save();b.strokeStyle=c.getPattern(b,this);b.stroke();b.restore()}else b.stroke();
a&&this.consumePath();b.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath();this.stroke()},fill:function(a){var a=typeof a!=="undefined"?a:true,b=this.ctx,c=this.current.fillColor,d=false;if(c&&c.hasOwnProperty("type")&&c.type==="Pattern"){b.save();b.fillStyle=c.getPattern(b,this);d=true}if(this.pendingEOFill){if(b.mozFillRule!==void 0){b.mozFillRule="evenodd";b.fill();b.mozFillRule="nonzero"}else try{b.fill("evenodd")}catch(e){b.fill()}this.pendingEOFill=false}else b.fill();
d&&b.restore();a&&this.consumePath()},eoFill:function(){this.pendingEOFill=true;this.fill()},fillStroke:function(){this.fill(false);this.stroke(false);this.consumePath()},eoFillStroke:function(){this.pendingEOFill=true;this.fillStroke()},closeFillStroke:function(){this.closePath();this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=true;this.closePath();this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=Pa},eoClip:function(){this.pendingClip=
Aa},beginText:function(){this.current.textMatrix=oa;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},endText:function(){var a=this.pendingTextPaths,b=this.ctx;if(a===void 0)b.beginPath();else{b.save();b.beginPath();for(var c=0;c<a.length;c++){var d=a[c];b.setTransform.apply(b,d.transform);b.translate(d.x,d.y);d.addToPath(b,d.fontSize)}b.restore();b.clip();b.beginPath();delete this.pendingTextPaths}},setCharSpacing:function(a){this.current.charSpacing=
a},setWordSpacing:function(a){this.current.wordSpacing=a},setHScale:function(a){this.current.textHScale=a/100},setLeading:function(a){this.current.leading=-a},setFont:function(a,b){var c=this.commonObjs.get(a),d=this.current;c||w("Can't find font for "+a);d.fontMatrix=c.fontMatrix?c.fontMatrix:Y;(d.fontMatrix[0]===0||d.fontMatrix[3]===0)&&D("Invalid font matrix for font "+a);if(b<0){b=-b;d.fontDirection=-1}else d.fontDirection=1;this.current.font=c;this.current.fontSize=b;if(!c.isType3Font){var d=
c.black?c.bold?"bolder":"bold":c.bold?"bold":"normal",e=c.italic?"italic":"normal",c='"'+(c.loadedName||"sans-serif")+'", '+c.fallbackName,f=b>=16?b:16;this.current.fontSizeScale=f!==16?1:b/16;this.ctx.font=e+" "+d+" "+f+"px "+c}},setTextRenderingMode:function(a){this.current.textRenderingMode=a},setTextRise:function(a){this.current.textRise=a},moveText:function(a,b){this.current.x=this.current.lineX=this.current.lineX+a;this.current.y=this.current.lineY=this.current.lineY+b},setLeadingMoveText:function(a,
b){this.setLeading(-b);this.moveText(a,b)},setTextMatrix:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f];this.current.textMatrixScale=Math.sqrt(a*a+b*b);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(a,b,c){var d=this.ctx,e=this.current,f=e.font,h=e.textRenderingMode,e=e.fontSize/e.fontSizeScale,g=h&3,h=!!(h&4),i;if(f.disableFontFace||h)i=f.getPathGenerator(this.commonObjs,a);if(f.disableFontFace){d.save();
d.translate(b,c);d.beginPath();i(d,e);(g===0||g===2)&&d.fill();(g===1||g===2)&&d.stroke();d.restore()}else{(g===0||g===2)&&d.fillText(a,b,c);(g===1||g===2)&&d.strokeText(a,b,c)}if(h)(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:d.mozCurrentTransform,x:b,y:c,fontSize:e,addToPath:i})},get isFontSubpixelAAEnabled(){var a=document.createElement("canvas").getContext("2d");a.scale(1.5,1);a.fillText("I",0,10);for(var a=a.getImageData(0,0,10,10).data,b=false,c=3;c<a.length;c=c+4)if(a[c]>
0&&a[c]<255){b=true;break}return S(this,"isFontSubpixelAAEnabled",b)},showText:function(a){var b=this.current,c=b.font;if(c.isType3Font)return this.showType3Text(a);var d=b.fontSize;if(d!==0){var e=this.ctx,f=b.fontSizeScale,h=b.charSpacing,g=b.wordSpacing,i=b.fontDirection,j=b.textHScale*i,k=a.length,p=c.vertical,m=c.defaultVMetrics,n=d*b.fontMatrix[0],l=b.textRenderingMode===0&&!c.disableFontFace;e.save();e.transform.apply(e,b.textMatrix);e.translate(b.x,b.y+b.textRise);i>0?e.scale(j,-1):e.scale(j,
1);var o=b.lineWidth,t=b.textMatrixScale,o=t===0||o===0?this.getSinglePixelWidth():o/t;if(f!==1){e.scale(f,f);o=o/f}e.lineWidth=o;for(t=o=0;t<k;++t){var q=a[t];if(q===null)o=o+i*g;else if(typeof q==="number")o=o+-q*d*0.001;else{var r=false,F=q.fontChar,s=q.accent,v,y=q.width;if(p){var u;v=q.vmetric||m;u=q.vmetric?v[1]:y*0.5;u=-u*n;q=v[2]*n;y=v?-v[0]:y;v=u/f;q=(o+q)/f}else{v=o/f;q=0}if(c.remeasure&&y>0&&this.isFontSubpixelAAEnabled){r=e.measureText(F).width*1E3/d*f;u=y/r;r=true;e.save();e.scale(u,
1);v=v/u}if(l&&!s)e.fillText(F,v,q);else{this.paintChar(F,v,q);if(s){F=v+s.offset.x/f;v=q-s.offset.y/f;this.paintChar(s.fontChar,F,v)}}o=o+(y*n+h*i);r&&e.restore()}}p?b.y=b.y-o*j:b.x=b.x+o*j;e.restore()}},showType3Text:function(a){var b=this.ctx,c=this.current,d=c.font,e=c.fontSize,f=c.fontDirection,h=c.charSpacing,g=c.wordSpacing,i=c.textHScale*f,j=c.fontMatrix||Y,k=a.length,p,m;if(e!==0){b.save();b.transform.apply(b,c.textMatrix);b.translate(c.x,c.y);b.scale(i,1);for(p=0;p<k;++p){m=a[p];if(m===
null){this.ctx.translate(g,0);c.x=c.x+g*i}else if(typeof m==="number"){m=-m*0.001*e;this.ctx.translate(m,0);c.x=c.x+m*i}else{var n=d.charProcOperatorList[m.operatorListId];if(n){this.processingType3=m;this.save();b.scale(e,e);b.transform.apply(b,j);this.executeOperatorList(n);this.restore();m=(B.applyTransform([m.width,0],j)[0]*e+h)*f;b.translate(m,0);c.x=c.x+m*i}else D('Type3 character "'+m.operatorListId+'" is not available')}}b.restore();this.processingType3=null}},setCharWidth:function(){},setCharWidthAndBounds:function(a,
b,c,d,e,f){this.ctx.rect(c,d,e-c,f-d);this.clip();this.endPath()},getColorN_Pattern:function(a){return a[0]==="TilingPattern"?new Ba(a,a[1],this.ctx,this.objs,this.commonObjs,this.baseTransform):la(a)},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments)},setStrokeRGBColor:function(a,b,c){var d=B.makeCssRgb(arguments);this.ctx.strokeStyle=d;this.current.strokeColor=d},setFillRGBColor:function(a,
b,c){var d=B.makeCssRgb(arguments);this.ctx.fillStyle=d;this.current.fillColor=d},shadingFill:function(a){var b=this.ctx;this.save();a=la(a);b.fillStyle=a.getPattern(b,this,true);var c=b.mozCurrentTransformInverse;if(c){var b=b.canvas,d=b.width,e=b.height,b=B.applyTransform([0,0],c),a=B.applyTransform([0,e],c),f=B.applyTransform([d,0],c),h=B.applyTransform([d,e],c),c=Math.min(b[0],a[0],f[0],h[0]),d=Math.min(b[1],a[1],f[1],h[1]),e=Math.max(b[0],a[0],f[0],h[0]),b=Math.max(b[1],a[1],f[1],h[1]);this.ctx.fillRect(c,
d,e-c,b-d)}else this.ctx.fillRect(-1E10,-1E10,2E10,2E10);this.restore()},beginInlineImage:function(){w("Should not call beginInlineImage")},beginImageData:function(){w("Should not call beginImageData")},paintFormXObjectBegin:function(a,b){this.save();this.baseTransformStack.push(this.baseTransform);a instanceof Array&&6===a.length&&this.transform.apply(this,a);this.baseTransform=this.ctx.mozCurrentTransform;if(b instanceof Array&&4===b.length){this.ctx.rect(b[0],b[1],b[2]-b[0],b[3]-b[1]);this.clip();
this.endPath()}},paintFormXObjectEnd:function(){this.restore();this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(a){this.save();var b=this.ctx;a.isolated||M("TODO: Support non-isolated groups.");a.knockout&&D("Knockout groups not supported.");var c=b.mozCurrentTransform;a.matrix&&b.transform.apply(b,a.matrix);a.bbox||w("Bounding box is required.");var d=B.getAxialAlignedBoundingBox(a.bbox,b.mozCurrentTransform),d=B.intersect(d,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0],e=
Math.floor(d[0]),f=Math.floor(d[1]),h=Math.max(Math.ceil(d[2])-e,1),g=Math.max(Math.ceil(d[3])-f,1),i=d=1;if(h>4096){d=h/4096;h=4096}if(g>4096){i=g/4096;g=4096}var j="groupAt"+this.groupLevel;a.smask&&(j=j+("_smask_"+this.smaskCounter++%2));h=C.getCanvas(j,h,g,true);g=h.context;g.scale(1/d,1/i);g.translate(-e,-f);g.transform.apply(g,c);if(a.smask)this.smaskStack.push({canvas:h.canvas,context:g,offsetX:e,offsetY:f,scaleX:d,scaleY:i,subtype:a.smask.subtype,backdrop:a.smask.backdrop});else{b.setTransform(1,
0,0,1,0,0);b.translate(e,f);b.scale(d,i)}za(b,g);this.ctx=g;this.setGState([["BM","Normal"],["ca",1],["CA",1]]);this.groupStack.push(b);this.groupLevel++},endGroup:function(a){this.groupLevel--;var b=this.ctx;this.ctx=this.groupStack.pop();this.ctx.imageSmoothingEnabled!==void 0?this.ctx.imageSmoothingEnabled=false:this.ctx.mozImageSmoothingEnabled=false;a.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(b.canvas,0,0);this.restore()},beginAnnotations:function(){this.save();this.current=
new ea},endAnnotations:function(){this.restore()},beginAnnotation:function(a,b,c){this.save();if(a instanceof Array&&4===a.length){this.ctx.rect(a[0],a[1],a[2]-a[0],a[3]-a[1]);this.clip();this.endPath()}this.transform.apply(this,b);this.transform.apply(this,c)},endAnnotation:function(){this.restore()},paintJpegXObject:function(a,b,c){var d=this.objs.get(a);if(d){this.save();var e=this.ctx;e.scale(1/b,-1/c);e.drawImage(d,0,0,d.width,d.height,0,-c,b,c);if(this.imageLayer){d=e.mozCurrentTransformInverse;
e=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:a,left:e[0],top:e[1],width:b/d[0],height:c/d[3]})}this.restore()}else D("Dependent image isn't ready yet")},paintImageMaskXObject:function(a){var b=this.ctx,c=a.width,d=a.height,e=this.processingType3;if(e&&!("compiled"in e))if(c<=1E3&&d<=1E3){var f;a:{var h=a.data,g,i,j=c+1,k=new Uint8Array(j*(d+1)),p=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),m=c+7&-8,n=new Uint8Array(m*d),l=0;f=0;for(g=h.length;f<g;f++){i=128;for(var o=h[f];i>
0;){n[l++]=o&i?0:255;i=i>>1}}l=h=0;if(n[l]!==0){k[0]=1;++h}for(g=1;g<c;g++){if(n[l]!==n[l+1]){k[g]=n[l]?2:1;++h}l++}if(n[l]!==0){k[g]=2;++h}for(f=1;f<d;f++){l=f*m;i=f*j;if(n[l-m]!==n[l]){k[i]=n[l]?1:8;++h}o=(n[l]?4:0)+(n[l-m]?8:0);for(g=1;g<c;g++){o=(o>>2)+(n[l+1]?4:0)+(n[l-m+1]?8:0);if(p[o]){k[i+g]=p[o];++h}l++}if(n[l-m]!==n[l]){k[i+g]=n[l]?2:4;++h}if(h>1E3){f=null;break a}}l=m*(d-1);i=f*j;if(n[l]!==0){k[i]=8;++h}for(g=1;g<c;g++){if(n[l]!==n[l+1]){k[i+g]=n[l]?4:8;++h}l++}if(n[l]!==0){k[i+g]=4;++h}if(h>
1E3)f=null;else{var p=new Int32Array([0,j,-1,0,-j,0,0,0,1]),t=[];for(f=0;h&&f<=d;f++){m=f*j;for(n=m+c;m<n&&!k[m];)m++;if(m!==n){n=[m%j,f];l=k[m];g=m;do{i=p[l];do m=m+i;while(!k[m]);i=k[m];if(i!==5&&i!==10){l=i;k[m]=0}else{l=i&51*l>>4;k[m]=k[m]&(l>>2|l<<2)}n.push(m%j);n.push(m/j|0);--h}while(g!==m);t.push(n);--f}}f=function(a){a.save();a.scale(1/c,-1/d);a.translate(0,-d);a.beginPath();for(var b=0,e=t.length;b<e;b++){var f=t[b];a.moveTo(f[0],f[1]);for(var g=2,h=f.length;g<h;g=g+2)a.lineTo(f[g],f[g+
1])}a.fill();a.beginPath();a.restore()}}}e.compiled=f}else e.compiled=null;if(e&&e.compiled)e.compiled(b);else{b=C.getCanvas("maskCanvas",c,d);e=b.context;e.save();fa(e,a);e.globalCompositeOperation="source-in";a=this.current.fillColor;e.fillStyle=a&&a.hasOwnProperty("type")&&a.type==="Pattern"?a.getPattern(e,this):a;e.fillRect(0,0,c,d);e.restore();this.paintInlineImageXObject(b.canvas)}},paintImageMaskXObjectRepeat:function(a,b,c,d){var e=a.width,f=a.height,h=this.ctx,g=C.getCanvas("maskCanvas",
e,f),i=g.context;i.save();fa(i,a);i.globalCompositeOperation="source-in";a=this.current.fillColor;i.fillStyle=a&&a.hasOwnProperty("type")&&a.type==="Pattern"?a.getPattern(i,this):a;i.fillRect(0,0,e,f);i.restore();i=0;for(a=d.length;i<a;i=i+2){h.save();h.transform(b,0,0,c,d[i],d[i+1]);h.scale(1,-1);h.drawImage(g.canvas,0,0,e,f,0,-1,1,1);h.restore()}},paintImageMaskXObjectGroup:function(a){for(var b=this.ctx,c=0,d=a.length;c<d;c++){var e=a[c],f=e.width,h=e.height,g=C.getCanvas("maskCanvas",f,h),i=g.context;
i.save();fa(i,e);i.globalCompositeOperation="source-in";var j=this.current.fillColor;i.fillStyle=j&&j.hasOwnProperty("type")&&j.type==="Pattern"?j.getPattern(i,this):j;i.fillRect(0,0,f,h);i.restore();b.save();b.transform.apply(b,e.transform);b.scale(1,-1);b.drawImage(g.canvas,0,0,f,h,0,-1,1,1);b.restore()}},paintImageXObject:function(a){(a=this.objs.get(a))?this.paintInlineImageXObject(a):D("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(a,b,c,d){if(a=this.objs.get(a)){for(var e=
a.width,f=a.height,h=[],g=0,i=d.length;g<i;g=g+2)h.push({transform:[b,0,0,c,d[g],d[g+1]],x:0,y:0,w:e,h:f});this.paintInlineImageXObjectGroup(a,h)}else D("Dependent image isn't ready yet")},paintInlineImageXObject:function(a){var b=a.width,c=a.height,d=this.ctx;this.save();d.scale(1/b,-1/c);var e=d.mozCurrentTransformInverse,f=e[0],h=e[1],f=Math.max(Math.sqrt(f*f+h*h),1),h=e[2],g=e[3],h=Math.max(Math.sqrt(h*h+g*g),1),i;if(a instanceof HTMLElement||!a.data)g=a;else{i=C.getCanvas("inlineImage",b,c);
var j=i.context;ya(j,a);g=i.canvas}for(var k=b,p=c,m="prescale1";f>2&&k>1||h>2&&p>1;){var n=k,l=p;if(f>2&&k>1){n=Math.ceil(k/2);f=f/(k/n)}if(h>2&&p>1){l=Math.ceil(p/2);h=h/(p/l)}i=C.getCanvas(m,n,l);j=i.context;j.clearRect(0,0,n,l);j.drawImage(g,0,0,k,p,0,0,n,l);g=i.canvas;k=n;p=l;m=m==="prescale1"?"prescale2":"prescale1"}d.drawImage(g,0,0,k,p,0,-c,b,c);if(this.imageLayer){d=this.getCanvasPosition(0,-c);this.imageLayer.appendImage({imgData:a,left:d[0],top:d[1],width:b/e[0],height:c/e[3]})}this.restore()},
paintInlineImageXObjectGroup:function(a,b){var c=this.ctx,d=a.width,e=a.height,f=C.getCanvas("inlineImage",d,e);ya(f.context,a);for(var h=0,g=b.length;h<g;h++){var i=b[h];c.save();c.transform.apply(c,i.transform);c.scale(1,-1);c.drawImage(f.canvas,i.x,i.y,i.w,i.h,0,-1,1,1);if(this.imageLayer){i=this.getCanvasPosition(i.x,i.y);this.imageLayer.appendImage({imgData:a,left:i[0],top:i[1],width:d,height:e})}c.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},markPoint:function(){},
markPointProps:function(){},beginMarkedContent:function(){},beginMarkedContentProps:function(){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var a=this.ctx;if(this.pendingClip){if(this.pendingClip===Aa)if(a.mozFillRule!==void 0){a.mozFillRule="evenodd";a.clip();a.mozFillRule="nonzero"}else try{a.clip("evenodd")}catch(b){a.clip()}else a.clip();this.pendingClip=null}a.beginPath()},getSinglePixelWidth:function(){var a=this.ctx.mozCurrentTransformInverse;
return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3]))},getCanvasPosition:function(a,b){var c=this.ctx.mozCurrentTransform;return[c[0]*a+c[2]*b+c[4],c[1]*a+c[3]*b+c[5]]}};for(var E in I)A.prototype[I[E]]=A.prototype[E];da=A;var Q,V=function(a,b,c){c=a.createShader(c);a.shaderSource(c,b);a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS)){a=a.getShaderInfoLog(c);throw Error("Error during shader compilation: "+a);}return c},Ca=function(a,b){for(var c=a.createProgram(),d=0,
e=b.length;d<e;++d)a.attachShader(c,b[d]);a.linkProgram(c);if(!a.getProgramParameter(c,a.LINK_STATUS)){c=a.getProgramInfoLog(c);throw Error("Error during program linking: "+c);}return c},Da=function(a,b,c){a.activeTexture(c);c=a.createTexture();a.bindTexture(a.TEXTURE_2D,c);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,
a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b);return c},ga=function(){if(!O){R=document.createElement("canvas");O=R.getContext("webgl",{premultipliedalpha:false})}},O,R,K=null,L=null;Q={get isEnabled(){if(PDFJS.disableWebGL)return false;var a=false;try{ga();a=!!O}catch(b){}return S(this,"isEnabled",a)},composeSMask:function(a,b,c){var d=a.width,e=a.height;if(!K){var f,h;ga();f=R;R=null;h=O;O=null;var g=V(h,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",
h.VERTEX_SHADER),i=V(h,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",
h.FRAGMENT_SHADER),j=Ca(h,[g,i]);h.useProgram(j);g={};g.gl=h;g.canvas=f;g.resolutionLocation=h.getUniformLocation(j,"u_resolution");g.positionLocation=h.getAttribLocation(j,"a_position");g.backdropLocation=h.getUniformLocation(j,"u_backdrop");g.subtypeLocation=h.getUniformLocation(j,"u_subtype");f=h.getAttribLocation(j,"a_texCoord");var i=h.getUniformLocation(j,"u_image"),j=h.getUniformLocation(j,"u_mask"),k=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,k);h.bufferData(h.ARRAY_BUFFER,new Float32Array([0,
0,1,0,0,1,0,1,1,0,1,1]),h.STATIC_DRAW);h.enableVertexAttribArray(f);h.vertexAttribPointer(f,2,h.FLOAT,false,0,0);h.uniform1i(i,0);h.uniform1i(j,1);K=g}h=K;g=h.canvas;f=h.gl;g.width=d;g.height=e;f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight);f.uniform2f(h.resolutionLocation,d,e);c.backdrop?f.uniform4f(h.resolutionLocation,c.backdrop[0],c.backdrop[1],c.backdrop[2],1):f.uniform4f(h.resolutionLocation,0,0,0,0);f.uniform1i(h.subtypeLocation,c.subtype==="Luminosity"?1:0);a=Da(f,a,f.TEXTURE0);
b=Da(f,b,f.TEXTURE1);c=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,c);f.bufferData(f.ARRAY_BUFFER,new Float32Array([0,0,d,0,0,e,0,e,d,0,d,e]),f.STATIC_DRAW);f.enableVertexAttribArray(h.positionLocation);f.vertexAttribPointer(h.positionLocation,2,f.FLOAT,false,0,0);f.clearColor(0,0,0,0);f.enable(f.BLEND);f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.clear(f.COLOR_BUFFER_BIT);f.drawArrays(f.TRIANGLES,0,6);f.flush();f.deleteTexture(a);f.deleteTexture(b);f.deleteBuffer(c);return g},drawFigures:function(a,
b,c,d,e){if(!L){var f,h;ga();f=R;R=null;h=O;O=null;var g=V(h,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",
h.VERTEX_SHADER),i=V(h,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",h.FRAGMENT_SHADER),g=Ca(h,[g,
i]);h.useProgram(g);i={};i.gl=h;i.canvas=f;i.resolutionLocation=h.getUniformLocation(g,"u_resolution");i.scaleLocation=h.getUniformLocation(g,"u_scale");i.offsetLocation=h.getUniformLocation(g,"u_offset");i.positionLocation=h.getAttribLocation(g,"a_position");i.colorLocation=h.getAttribLocation(g,"a_color");L=i}f=L;h=f.canvas;g=f.gl;h.width=a;h.height=b;g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight);g.uniform2f(f.resolutionLocation,a,b);var a=0,j,k,p;j=0;for(k=d.length;j<k;j++)switch(d[j].type){case "lattice":p=
d[j].coords.length/d[j].verticesPerRow|0;a=a+(p-1)*(d[j].verticesPerRow-1)*6;break;case "triangles":a=a+d[j].coords.length}var i=new Float32Array(a*2),b=new Uint8Array(a*3),m=e.coords,n=e.colors,l=0,o=0;j=0;for(k=d.length;j<k;j++){p=d[j];var t=p.coords,q=p.colors;switch(p.type){case "lattice":var r=p.verticesPerRow;p=t.length/r|0;for(var u=1;u<p;u++)for(var s=u*r+1,v=1;v<r;v++,s++){i[l]=m[t[s-r-1]];i[l+1]=m[t[s-r-1]+1];i[l+2]=m[t[s-r]];i[l+3]=m[t[s-r]+1];i[l+4]=m[t[s-1]];i[l+5]=m[t[s-1]+1];b[o]=n[q[s-
r-1]];b[o+1]=n[q[s-r-1]+1];b[o+2]=n[q[s-r-1]+2];b[o+3]=n[q[s-r]];b[o+4]=n[q[s-r]+1];b[o+5]=n[q[s-r]+2];b[o+6]=n[q[s-1]];b[o+7]=n[q[s-1]+1];b[o+8]=n[q[s-1]+2];i[l+6]=i[l+2];i[l+7]=i[l+3];i[l+8]=i[l+4];i[l+9]=i[l+5];i[l+10]=m[t[s]];i[l+11]=m[t[s]+1];b[o+9]=b[o+3];b[o+10]=b[o+4];b[o+11]=b[o+5];b[o+12]=b[o+6];b[o+13]=b[o+7];b[o+14]=b[o+8];b[o+15]=n[q[s]];b[o+16]=n[q[s]+1];b[o+17]=n[q[s]+2];l=l+12;o=o+18}break;case "triangles":p=0;for(r=t.length;p<r;p++){i[l]=m[t[p]];i[l+1]=m[t[p]+1];b[o]=n[q[j]];b[o+
1]=n[q[p]+1];b[o+2]=n[q[p]+2];l=l+2;o=o+3}}}c?g.clearColor(c[0]/255,c[1]/255,c[2]/255,1):g.clearColor(0,0,0,0);g.clear(g.COLOR_BUFFER_BIT);c=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,c);g.bufferData(g.ARRAY_BUFFER,i,g.STATIC_DRAW);g.enableVertexAttribArray(f.positionLocation);g.vertexAttribPointer(f.positionLocation,2,g.FLOAT,false,0,0);d=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,d);g.bufferData(g.ARRAY_BUFFER,b,g.STATIC_DRAW);g.enableVertexAttribArray(f.colorLocation);g.vertexAttribPointer(f.colorLocation,
3,g.UNSIGNED_BYTE,false,0,0);g.uniform2f(f.scaleLocation,e.scaleX,e.scaleY);g.uniform2f(f.offsetLocation,e.offsetX,e.offsetY);g.drawArrays(g.TRIANGLES,0,a);g.flush();g.deleteBuffer(c);g.deleteBuffer(d);return h},clear:function(){if(K&&K.canvas){K.canvas.width=0;K.canvas.height=0}if(L&&L.canvas){L.canvas.width=0;L.canvas.height=0}L=K=null}};var X={RadialAxial:{fromIR:function(a){var b=a[1],c=a[2],d=a[3],e=a[4],f=a[5],h=a[6];return{type:"Pattern",getPattern:function(a){var i;b==="axial"?i=a.createLinearGradient(d[0],
d[1],e[0],e[1]):b==="radial"&&(i=a.createRadialGradient(d[0],d[1],f,e[0],e[1],h));for(var a=0,j=c.length;a<j;++a){var k=c[a];i.addColorStop(k[0],k[1])}return i}}}}},Ea,ha=function(a,b,c,d,e,f,h,g){var i=b.coords,j=b.colors,k=a.data,a=a.width*4,p;if(i[c+1]>i[d+1]){p=c;c=d;d=p;p=f;f=h;h=p}if(i[d+1]>i[e+1]){p=d;d=e;e=p;p=h;h=g;g=p}if(i[c+1]>i[d+1]){p=c;c=d;d=p;p=f;f=h;h=p}p=(i[c]+b.offsetX)*b.scaleX;var c=(i[c+1]+b.offsetY)*b.scaleY,m=(i[d]+b.offsetX)*b.scaleX,d=(i[d+1]+b.offsetY)*b.scaleY,n=(i[e]+b.offsetX)*
b.scaleX,b=(i[e+1]+b.offsetY)*b.scaleY;if(!(c>=b))for(var e=j[f],i=j[f+1],f=j[f+2],l=j[h],o=j[h+1],h=j[h+2],t=j[g],q=j[g+1],g=j[g+2],r=Math.round(c),j=Math.round(b),u,s,v,y,x,A,B,z,w=r;w<=j;w++){if(w<d){z=w<c?0:c===d?1:(c-w)/(c-d);r=p-(p-m)*z;u=e-(e-l)*z;s=i-(i-o)*z;v=f-(f-h)*z}else{z=w>b?1:d===b?0:(d-w)/(d-b);r=m-(m-n)*z;u=l-(l-t)*z;s=o-(o-q)*z;v=h-(h-g)*z}z=w<c?0:w>b?1:(c-w)/(c-b);y=p-(p-n)*z;x=e-(e-t)*z;A=i-(i-q)*z;B=f-(f-g)*z;z=Math.round(Math.min(r,y));for(var D=Math.round(Math.max(r,y)),C=a*
w+z*4,E=z;E<=D;E++){z=(r-E)/(r-y);z=z<0?0:z>1?1:z;k[C++]=u-(u-x)*z|0;k[C++]=s-(s-A)*z|0;k[C++]=v-(v-B)*z|0;k[C++]=255}}};Ea=function(a,b,c,d,e,f){var h=Math.floor(a[0]),g=Math.floor(a[1]),i=Math.ceil(a[2])-h,a=Math.ceil(a[3])-g,j=Math.min(Math.ceil(Math.abs(i*b[0]*1.1)),3E3),k=Math.min(Math.ceil(Math.abs(a*b[1]*1.1)),3E3),i=i/j,a=a/k,d={coords:c,colors:d,offsetX:-h,offsetY:-g,scaleX:1/i,scaleY:1/a},p;if(Q.isEnabled){e=Q.drawFigures(j,k,f,e,d);c=C.getCanvas("mesh",j,k,false);c.context.drawImage(e,
0,0)}else{c=C.getCanvas("mesh",j,k,false);b=c.context;k=b.createImageData(j,k);if(f){var m=k.data,j=0;for(p=m.length;j<p;j=j+4){m[j]=f[0];m[j+1]=f[1];m[j+2]=f[2];m[j+3]=255}}for(j=0;j<e.length;j++){var f=k,n=e[j];p=d;var m=n.coords,l=n.colors,o=void 0,t=void 0;switch(n.type){case "lattice":for(var n=n.verticesPerRow,t=Math.floor(m.length/n)-1,q=n-1,o=0;o<t;o++)for(var r=o*n,u=0;u<q;u++,r++){ha(f,p,m[r],m[r+1],m[r+n],l[r],l[r+1],l[r+n]);ha(f,p,m[r+n+1],m[r+1],m[r+n],l[r+n+1],l[r+1],l[r+n])}break;case "triangles":o=
0;for(t=m.length;o<t;o=o+3)ha(f,p,m[o],m[o+1],m[o+2],l[o],l[o+1],l[o+2]);break;default:w("illigal figure")}}b.putImageData(k,0,0)}e=c.canvas;return{canvas:e,offsetX:h,offsetY:g,scaleX:i,scaleY:a}};X.Mesh={fromIR:function(a){var b=a[2],c=a[3],d=a[4],e=a[5],f=a[6],h=a[8];return{type:"Pattern",getPattern:function(a,i,j){var k;if(j)k=B.singularValueDecompose2dScale(a.mozCurrentTransform);else{k=B.singularValueDecompose2dScale(i.baseTransform);if(f){var p=B.singularValueDecompose2dScale(f);k=[k[0]*p[0],
k[1]*p[1]]}}k=Ea(e,k,b,c,d,j?null:h);if(!j){a.setTransform.apply(a,i.baseTransform);f&&a.transform.apply(a,f)}a.translate(k.offsetX,k.offsetY);a.scale(k.scaleX,k.scaleY);return a.createPattern(k.canvas,"no-repeat")}}}};X.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var Ba;E=function(a,b,c,d,e,f){this.operatorList=a[2];this.matrix=a[3]||[1,0,0,1,0,0];this.bbox=a[4];this.xstep=a[5];this.ystep=a[6];this.paintType=a[7];this.tilingType=a[8];this.color=b;this.objs=
d;this.commonObjs=e;this.baseTransform=f;this.type="Pattern";this.ctx=c};E.prototype={createPatternCanvas:function(a){var b=this.operatorList,c=this.bbox,d=this.xstep,e=this.ystep,f=this.paintType,h=this.color,g=this.objs,i=this.commonObjs;M("TilingType: "+this.tilingType);var j=c[0],k=c[1],p=c[2],m=c[3],n=[j,k],l=[j+d,k+e],o=l[0]-n[0],l=l[1]-n[1],t=B.singularValueDecompose2dScale(this.matrix),q=B.singularValueDecompose2dScale(this.baseTransform),t=[t[0]*q[0],t[1]*q[1]],o=Math.min(Math.ceil(Math.abs(o*
t[0])),3E3),l=Math.min(Math.ceil(Math.abs(l*t[1])),3E3),t=C.getCanvas("pattern",o,l,true),q=t.context,g=new da(q,i,g);g.groupLevel=a.groupLevel;this.setFillAndStrokeStyleToContext(q,f,h);this.setScale(o,l,d,e);this.transformToScale(g);g.transform.apply(g,[1,0,0,1,-n[0],-n[1]]);this.clipBbox(g,c,j,k,p,m);g.executeOperatorList(b);return t.canvas},setScale:function(a,b,c,d){this.scale=[a/c,b/d]},transformToScale:function(a){var b=this.scale;a.transform.apply(a,[b[0],0,0,b[1],0,0])},scaleToContext:function(){var a=
this.scale;this.ctx.scale(1/a[0],1/a[1])},clipBbox:function(a,b,c,d,e,f){if(b&&b instanceof Array&&b.length===4){a.ctx.rect(c,d,e-c,f-d);a.clip();a.endPath()}},setFillAndStrokeStyleToContext:function(a,b,c){switch(b){case 1:b=this.ctx;a.fillStyle=b.fillStyle;a.strokeStyle=b.strokeStyle;break;case 2:b=B.makeCssRgb(c);a.fillStyle=b;a.strokeStyle=b;break;default:w("Unsupported paint type: "+b)}},getPattern:function(a,b){var c=this.createPatternCanvas(b),a=this.ctx;a.setTransform.apply(a,this.baseTransform);
a.transform.apply(a,this.matrix);this.scaleToContext();return a.createPattern(c,"repeat")}};Ba=E;PDFJS.disableFontFace=false;if(ma)E=false;else E=(E=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(window.navigator.userAgent))&&E[1]>=14?true:false;var J={insertRule:function(a){var b=document.getElementById("PDFJS_FONT_STYLE_TAG");if(!b){b=document.createElement("style");b.id="PDFJS_FONT_STYLE_TAG";document.documentElement.getElementsByTagName("head")[0].appendChild(b)}b=b.sheet;b.insertRule(a,b.cssRules.length)},
clear:function(){var a=document.getElementById("PDFJS_FONT_STYLE_TAG");a&&a.parentNode.removeChild(a)},get loadTestFont(){return S(this,"loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))},
loadTestFontId:0,loadingContext:{requests:[],nextRequestId:0},isSyncFontLoadingSupported:E,bind:function(a,b){!ma||w("bind() shall be called from main thread");for(var c=[],d=[],e=0,f=a.length;e<f;e++){var h=a[e];if(!(h.attached||h.loading===false)){h.attached=true;var g=h.bindDOM();if(g){c.push(g);d.push(h)}}}e=J.queueLoadingCallback(b);c.length>0&&!this.isSyncFontLoadingSupported?J.prepareFontLoadEvent(c,d,e):e.complete()},queueLoadingCallback:function(a){var b=J.loadingContext,c={id:"pdfjs-font-loading-"+
b.nextRequestId++,complete:function(){!c.end||w("completeRequest() cannot be called twice");for(c.end=Date.now();b.requests.length>0&&b.requests[0].end;){var a=b.requests.shift();setTimeout(a.callback,0)}},callback:a,started:Date.now()};b.requests.push(c);return c},prepareFontLoadEvent:function(a,b,c){function d(a,b){return a.charCodeAt(b)<<24|a.charCodeAt(b+1)<<16|a.charCodeAt(b+2)<<8|a.charCodeAt(b+3)&255}function e(a,b,c,d){var e=a.substr(0,b),a=a.substr(b+c);return e+d+a}function f(a,b){j++;if(j>
30){D("Load test font never loaded.");b()}else{i.font="30px "+a;i.fillText(".",0,20);i.getImageData(0,0,1,1).data[3]>0?b():setTimeout(f.bind(null,a,b))}}var h,g,a=document.createElement("canvas");a.width=1;a.height=1;var i=a.getContext("2d"),j=0,a="lt"+Date.now()+this.loadTestFontId++,k=this.loadTestFont,k=e(k,976,a.length,a),p=d(k,16);h=0;for(g=a.length-3;h<g;h=h+4)p=p-1482184792+d(a,h)|0;h<a.length&&(p=p-1482184792+d(a+"XXX",h)|0);k=e(k,16,4,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,p&255));
h="url(data:font/opentype;base64,"+btoa(k)+");";J.insertRule('@font-face { font-family:"'+a+'";src:'+h+"}");k=[];h=0;for(g=b.length;h<g;h++)k.push(b[h].loadedName);k.push(a);var m=document.createElement("div");m.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");h=0;for(g=k.length;h<g;++h){b=document.createElement("span");b.textContent="Hi";b.style.fontFamily=k[h];m.appendChild(b)}document.body.appendChild(m);f(a,function(){document.body.removeChild(m);
c.complete()})}},wa;E=function(a,b,c){this.compiledGlyphs={};if(arguments.length===1){var d=arguments[0],e;for(e in d)this[e]=d[e]}};E.prototype={bindDOM:function(){if(!this.data)return null;if(PDFJS.disableFontFace){this.disableFontFace=true;return null}var a;var b=new Uint8Array(this.data);a=b.length;if(a<8192)a=String.fromCharCode.apply(null,b);else{for(var c=[],d=0;d<a;d=d+8192){var e=Math.min(d+8192,a),e=b.subarray(d,e);c.push(String.fromCharCode.apply(null,e))}a=c.join("")}b=this.loadedName;
a="url(data:"+this.mimetype+";base64,"+window.btoa(a)+");";b='@font-face { font-family:"'+b+'";src:'+a+"}";J.insertRule(b);PDFJS.pdfBug&&("FontInspector"in u&&u.FontInspector.enabled)&&u.FontInspector.fontAdded(this,a);return b},getPathGenerator:function(a,b){if(!(b in this.compiledGlyphs)){var c=a.get(this.loadedName+"_path_"+b);this.compiledGlyphs[b]=new Function("c","size",c)}return this.compiledGlyphs[b]}};wa=E;var Fa=function(a,b,c){c=c||0;a=document.createElement(a);a.style.borderWidth=c+"px";
var d=b[3]-b[1]-2*c;a.style.width=b[2]-b[0]-2*c+"px";a.style.height=d+"px";return a},Ga=function(a){for(var b=Fa("section",a.rect,a.borderWidth),c=b.style.backgroundColor=a.color,d=[],e=0;e<3;++e)d[e]=Math.round(c[e]*255);a.colorCssRgb=B.makeCssRgb(d);c=document.createElement("div");c.className="annotationHighlight";c.style.left=c.style.top="-4px";c.style.right=c.style.bottom="-4px";c.setAttribute("hidden",true);a.highlightElement=c;b.appendChild(a.highlightElement);return b};PDFJS.AnnotationUtils=
{getHtmlElement:function(a,b){switch(a.annotationType){case 1:var c=Fa("div",a.rect,0);c.style.display="table";var d=document.createElement("div");d.textContent=a.fieldValue;d.style.textAlign=["left","center","right"][a.textAlignment];d.style.verticalAlign="middle";d.style.display="table-cell";var e=a.fontRefName?b.getData(a.fontRefName):null,f=d.style;f.fontSize=a.fontSize+"px";f.direction=a.fontDirection<0?"rtl":"ltr";if(e){f.fontWeight=e.black?e.bold?"bolder":"bold":e.bold?"bold":"normal";f.fontStyle=
e.italic?"italic":"normal";var h=e.loadedName;f.fontFamily=(h?'"'+h+'", ':"")+(e.fallbackName||"Helvetica, sans-serif")}c.appendChild(d);return c;case 2:e=a.rect;e[3]-e[1]<10&&(e[3]=e[1]+10);e[2]-e[0]<10&&(e[2]=e[0]+(e[3]-e[1]));var g=Ga(a);g.className="annotText";c=document.createElement("img");c.style.height=g.style.height;c.style.width=g.style.width;d=a.name;c.src=PDFJS.imageResourcesPath+"annotation-"+d.toLowerCase()+".svg";c.alt="[{{type}} Annotation]";c.dataset.l10nId="text_annotation_type";
c.dataset.l10nArgs=JSON.stringify({type:d});d=document.createElement("div");d.className="annotTextContentWrapper";d.style.left=Math.floor(e[2]-e[0]+5)+"px";d.style.top="-10px";var i=document.createElement("div");i.className="annotTextContent";i.setAttribute("hidden",true);if(a.hasBgColor){f=a.color;h=[];for(e=0;e<3;++e){var j=Math.round(f[e]*255);h[e]=Math.round((255-j)*0.7)+j}i.style.backgroundColor=B.makeCssRgb(h)}h=document.createElement("h1");j=document.createElement("p");h.textContent=a.title;
if(!a.content&&!a.title)i.setAttribute("hidden",true);else{for(var k=document.createElement("span"),p=a.content.split(/(?:\r\n?|\n)/),e=0,f=p.length;e<f;++e){k.appendChild(document.createTextNode(p[e]));e<f-1&&k.appendChild(document.createElement("br"))}j.appendChild(k);var m=false,n=function(a){a&&(m=true);if(i.hasAttribute("hidden")){g.style.zIndex=g.style.zIndex+1;i.removeAttribute("hidden")}},l=function(a){a&&(m=false);if(!i.hasAttribute("hidden")&&!m){g.style.zIndex=g.style.zIndex-1;i.setAttribute("hidden",
true)}};c.addEventListener("click",function(){m?l(true):n(true)},false);c.addEventListener("mouseover",function(){n()},false);c.addEventListener("mouseout",function(){l()},false);i.addEventListener("click",function(){l(true)},false)}i.appendChild(h);i.appendChild(j);d.appendChild(i);g.appendChild(c);g.appendChild(d);return g;case 3:c=Ga(a);c.className="annotLink";c.style.borderColor=a.colorCssRgb;c.style.borderStyle="solid";d=document.createElement("a");d.href=d.title=a.url||"";d.target="_blank";c.appendChild(d);return c;
default:throw Error("Unsupported annotationType: "+a.annotationType);}}}}).call("undefined"===typeof window?this:window);!PDFJS.workerSrc&&"undefined"!==typeof document&&(PDFJS.workerSrc=function(){var M=(document.body||document.getElementsByTagName("head")[0]).lastChild.src;return M&&M.replace(/\.js$/i,".worker.js")}());
